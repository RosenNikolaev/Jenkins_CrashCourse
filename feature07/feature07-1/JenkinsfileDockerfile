node {
    stage ('Checkout') {
        checkout scm
    }
    stage ('Build a custom named Dockerfile ') {
        def dockerfile = 'Dockerfile.custom'
        // def testImage = docker.build("test-image", "-f ${dockerfile} ./feature07/feature07-1/") 
            def customImage = docker.build("my-image:${env.BUILD_ID}",
                                   "-f ${dockerfile} ./feature07/feature07-1") 
}
        customImage.inside {
            sh 'echo $MY_ENV'
        }
    }

}

